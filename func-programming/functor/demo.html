<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>函子</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    文章内容来自 [函数式编程入门教程](http://www.ruanyifeng.com/blog/2017/02/fp-tutorial.html)
</body>
</html>
<script>
    // 函子
    class Functor {
        constructor(val) {
            console.log(this)
            this.val = val;
        }
        static of(val) {
            return new this(val);
        }
        map(f) {
            return new Functor(f(this.val));
        }
    }

    // Functor.of = function(val) {
    //     return new Functor(val);
    // };   // 静态方法
    console.log('Functor', Functor)
    console.log('Functor', Functor.of(2).map(x => x + 2));

    // Maybe 函子
    class Maybe extends Functor {
        map(f) {
            return this.val ? Maybe.of(f(this.val)) : Maybe.of(null)
        }
    }
    // Maybe.of = function(val) {
    //     return new Maybe(val);
    // };   // 静态方法
    console.log('Maybe', Maybe.of(null).map(x => x + 2));
</script>